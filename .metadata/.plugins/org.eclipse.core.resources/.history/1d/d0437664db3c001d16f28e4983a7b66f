#include "STD_TYPES.h"
#include "BIT_MATH.h"
#include "SPI_Private.h"
#include "SPI_Interface.h"
#include "ERROR_STATUS.h"


void SPI_Init(void){
	//SPI_ONE->CR1=0x0347;
	GPIOA_AFRL=0x555<<20; //Set AF to the GPIO PINS
	SPI_ONE->CR1.BIT.CPHA=1;
	SPI_ONE->CR1.BIT.CPOL=1;
	SPI_ONE->CR1.BIT.MSTR=1;
	SPI_ONE->CR1.BIT.SSM=1;
	SPI_ONE->CR1.BIT.SSI=1;
	SPI_ONE->CR1.BIT.SPE=1;
}
void SPI_Transmit(u16 data){
	SPI_ONE->DR=data;
	while(GET_BIT(SPI_ONE->SR.BIT.BSY,7)==1);
}
u16 SPI_Recieve(){
	while(GET_BIT(SPI_ONE->SR.BIT.BSY,7)==1);
	return SPI_ONE->DR;
}
